/*!
*** action-uptodater 2.5.0
*** Copyright Â© 2022, Jaid <jaid.jsx@gmail.com> (https://github.com/Jaid)
*** @license MIT
*** See https://github.com/Jaid/action-node-boilerplate
!*/
import{createRequire as e}from"module";export const id=826;export const ids=[826];export const modules={8340:(e,t,o)=>{var a=o(202);e.exports=(a.default||a).template({1:function(e,t,o,a,l){var n,r,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"Auto approving pull requests is activated. Branch `"+(null!=(n="function"==typeof(r=null!=(r=i(o,"branch")||(null!=t?i(t,"branch"):t))?r:e.hooks.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"branch",hash:{},data:l,loc:{start:{line:5,column:51},end:{line:5,column:61}}}):r)?n:"")+"` will be automatically deleted afterwards.\n"},compiler:[8,">= 4.3.0"],main:function(e,t,o,a,l){var n,r,i=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,u="function",p=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"Hewwo! I am ["+(null!=(n=typeof(r=null!=(r=p(o,"actionRepo")||(null!=t?p(t,"actionRepo"):t))?r:s)===u?r.call(i,{name:"actionRepo",hash:{},data:l,loc:{start:{line:1,column:13},end:{line:1,column:27}}}):r)?n:"")+"]("+(null!=(n=typeof(r=null!=(r=p(o,"actionPage")||(null!=t?p(t,"actionPage"):t))?r:s)===u?r.call(i,{name:"actionPage",hash:{},data:l,loc:{start:{line:1,column:29},end:{line:1,column:43}}}):r)?n:"")+") and got triggered by commit [`"+(null!=(n=typeof(r=null!=(r=p(o,"sha7")||(null!=t?p(t,"sha7"):t))?r:s)===u?r.call(i,{name:"sha7",hash:{},data:l,loc:{start:{line:1,column:75},end:{line:1,column:83}}}):r)?n:"")+"`](https://github.com/"+(null!=(n=typeof(r=null!=(r=p(o,"owner")||(null!=t?p(t,"owner"):t))?r:s)===u?r.call(i,{name:"owner",hash:{},data:l,loc:{start:{line:1,column:105},end:{line:1,column:114}}}):r)?n:"")+"/"+(null!=(n=typeof(r=null!=(r=p(o,"repo")||(null!=t?p(t,"repo"):t))?r:s)===u?r.call(i,{name:"repo",hash:{},data:l,loc:{start:{line:1,column:115},end:{line:1,column:123}}}):r)?n:"")+"/commit/"+(null!=(n=typeof(r=null!=(r=p(o,"sha")||(null!=t?p(t,"sha"):t))?r:s)===u?r.call(i,{name:"sha",hash:{},data:l,loc:{start:{line:1,column:131},end:{line:1,column:138}}}):r)?n:"")+"/checks).\n\nHere are some autofixes I am intending to apply.\n"+(null!=(n=p(o,"if").call(i,null!=t?p(t,"autoApprove"):t,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:4,column:0},end:{line:6,column:7}}}))?n:"")},useData:!0})},9606:(e,t,o)=>{var a={"./babelPresetJaid/index.js":[3990,736,990],"./eslint/index.js":[3746,736,746],"./eslintNode/index.js":[6923,736,923],"./eslintReact/index.js":[8161,736,161],"./githubAction/index.js":[7009,736,9],"./global/index.js":[7676,736,676],"./jaidCore/index.js":[4053,736,53],"./jaidCoreDashboard/index.js":[8497,736,497],"./lib/index.js":[7273,736,273],"./node/index.js":[7921,736,921],"./publicNodePackage/index.js":[1646,736,646],"./webpackConfigJaid/index.js":[4789,736,789]};function l(e){if(!o.o(a,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],l=t[0];return Promise.all(t.slice(1).map(o.e)).then((()=>o(l)))}l.keys=()=>Object.keys(a),l.id=9606,e.exports=l},9491:t=>{t.exports=e(import.meta.url)("assert")},4300:t=>{t.exports=e(import.meta.url)("buffer")},2081:t=>{t.exports=e(import.meta.url)("child_process")},2057:t=>{t.exports=e(import.meta.url)("constants")},6113:t=>{t.exports=e(import.meta.url)("crypto")},2361:t=>{t.exports=e(import.meta.url)("events")},7147:t=>{t.exports=e(import.meta.url)("fs")},3685:t=>{t.exports=e(import.meta.url)("http")},5687:t=>{t.exports=e(import.meta.url)("https")},1808:t=>{t.exports=e(import.meta.url)("net")},6005:t=>{t.exports=e(import.meta.url)("node:crypto")},612:t=>{t.exports=e(import.meta.url)("node:os")},9411:t=>{t.exports=e(import.meta.url)("node:path")},7742:t=>{t.exports=e(import.meta.url)("node:process")},5997:t=>{t.exports=e(import.meta.url)("node:tty")},2037:t=>{t.exports=e(import.meta.url)("os")},1017:t=>{t.exports=e(import.meta.url)("path")},5477:t=>{t.exports=e(import.meta.url)("punycode")},2781:t=>{t.exports=e(import.meta.url)("stream")},1576:t=>{t.exports=e(import.meta.url)("string_decoder")},9512:t=>{t.exports=e(import.meta.url)("timers")},4404:t=>{t.exports=e(import.meta.url)("tls")},6224:t=>{t.exports=e(import.meta.url)("tty")},7310:t=>{t.exports=e(import.meta.url)("url")},3837:t=>{t.exports=e(import.meta.url)("util")},9796:t=>{t.exports=e(import.meta.url)("zlib")},4592:(e,t,o)=>{o.d(t,{a:()=>i});var a=o(8245),l=o(2225),n=o(9486);const r=(0,l.getInput)("commitMessagePrefix",{required:!0});class i{static commitManager=null;fileName=null;newContent=null;tester=null;hasBeenApplied=!1;constructor(e,t){this.fileName=e,this.newContent=t}log(e){this.tester.logMessages.push(e)}async apply(){var e;this.log(this.getAnsiTitle()),!1===this.newContent?await a.unlink(this.fileName):await a.outputFile(this.fileName,this.newContent),await(null===(e=i.commitManager)||void 0===e?void 0:e.commit(`${r} ${this.tester.title}`))}getAnsiTitle(){return!1===this.newContent?`Delete ${n.a.yellow(this.fileName)}`:`Modify ${n.a.yellow(this.fileName)}`}}},9131:(e,t,o)=>{o.a(e,(async(e,t)=>{try{var a=o(2225),l=o(8142),n=o(6486),r=o(6022),i=o(4592),s=o(9486),u=o(5913),p=o(470),c=o(3885),d=o(6700),m=o(1680),h=o(8340);let e=[];const f=["babelPresetJaid","eslint","eslintNode","eslintReact","githubAction","global","jaidCore","jaidCoreDashboard","lib","node","publicNodePackage","webpackConfigJaid"];for(const t of f){const{default:a}=await o(9606)(`./${t}/index.js`);a.id=t,e.push(a)}(async function(){var t;console.log("action-uptodater v2.5.0"),console.log(`${(0,d.a)(Object.keys(e).length,"rule")} loaded`);const o={pkg:await(0,m.a)(),shouldFix:(0,p.a)("fix"),autoApprove:(0,p.a)("approve")};for(const t of e)t.pkg={...o.pkg},(0,n.isFunction)(t.init)&&await t.init();o.shouldFix&&(o.autoApprove?console.log("Autofixing is enabled, pull requests will be automatically approved and merged"):console.log("Autofixing is enabled, approving pull requests must be done manually"),i.a.commitManager=new u.a({autoApprove:o.autoApprove,autoRemoveBranch:(0,p.a)("removeBranch",{required:!0}),githubTokenInputName:"token",branchPrefix:"fix-",pullRequestTitle:e=>`Applied ${(0,d.a)(e.commits,"fix")} from jaid/action-uptodater`,pullRequestBody:e=>{var t;return h({...l.context.repo,sha7:null===(t=l.context.sha)||void 0===t?void 0:t.slice(0,8),autoApprove:o.autoApprove,sha:l.context.sha,actionRepo:"Jaid/action-uptodater",actionPage:"https://github.com/marketplace/actions/uptodater",branch:e.branch})},mergeMessage:e=>`Automatically merged boilerplate update from #${e.pullNumber}`,ignoreFiles:["package-lock.json"]})),e=await(0,r.a)(Object.values(e),(async e=>await e.isRelevantToRepo(o))),console.log(`Selected rules: ${e.map((e=>e.id)).join(", ")}`);for(const t of e)for(const e of t.testers)await e.run(o);await(null===(t=i.a.commitManager)||void 0===t?void 0:t.push());const f=(e,t)=>e+t.failedTests;let x=0;for(let t=0;t<=e.length-1;t++)x=f(x,e[t]);const g=x;for(const t of e){const e=t.passedTests+t.failedTests,o=t.failedTests?s.a.bgRed:s.a.bgGreen;console.log(`${o("  ")}${t.consoleIcon}${o(` ${t.getTitle()} (${t.passedTests}/${e})`.padEnd(60))}`);for(const e of t.testers){let t=`${e.consoleIcon} ${e.ansiTitle}`;(0,c.a)(e.appliedFixes)&&(t+=` (${(0,d.a)(e.appliedFixes,"fix")} applied)`),(0,a.startGroup)(t);for(const t of e.logMessages)console.log(t);(0,a.endGroup)()}}if(0!==g){const e=o.shouldFix?`${(0,d.a)(g,"test")} did fail and could not automatically be fixed`:`${(0,d.a)(g,"test")} did fail and autofixing is disabled`;(0,a.setFailed)(e)}})().catch((e=>{console.error(e),(0,a.setFailed)("jaid/action-uptodater threw an Error")})),t()}catch(e){t(e)}}),1)},9486:(e,t,o)=>{o.d(t,{a:()=>l});var a=o(5221);a.a.enabled=!0,a.a.level=2;const l=a.a},5913:(e,t,o)=>{o.d(t,{a:()=>a});const a=o(7830).default},470:(e,t,o)=>{o.d(t,{a:()=>a});const a=o(4482).default},3885:(e,t,o)=>{o.d(t,{a:()=>l,b:()=>n});var a=o(4326);const l=a.default,n=a.isEmpty},6700:(e,t,o)=>{o.d(t,{a:()=>a});const a=o(9765).default},1680:(e,t,o)=>{o.d(t,{a:()=>n});var a=o(9411),l=o(8245);async function n(){const e=a.resolve("package.json");if(!await l.pathExists(e))return null;return await l.readJson5(e)}}};import t from"./runtime.js";import*as o from"./vendor.js";t.C(o);import*as a from"./index.js";t.C(a);var l;l=9131,t(t.s=l);
//# sourceMappingURL=index.js.map