{"version":3,"file":"index.js","mappings":"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CC,OAAOC,KAAKC,IAA7CH,CAAkD,W,SCAnEzC,EAAOC,QAAUwC,EAAiCC,OAAOC,KAAKC,IAA7CH,CAAkD,W,SCAnEzC,EAAOC,QAAUwC,EAAiCC,OAAOC,KAAKC,IAA7CH,CAAkD,O,SCAnEzC,EAAOC,QAAUwC,EAAiCC,OAAOC,KAAKC,IAA7CH,CAAkD,S,SCAnEzC,EAAOC,QAAUwC,EAAiCC,OAAOC,KAAKC,IAA7CH,CAAkD,U,SCAnEzC,EAAOC,QAAUwC,EAAiCC,OAAOC,KAAKC,IAA7CH,CAAkD,Q,SCAnEzC,EAAOC,QAAUwC,EAAiCC,OAAOC,KAAKC,IAA7CH,CAAkD,gB,QCAnEzC,EAAOC,QAAUwC,EAAiCC,OAAOC,KAAKC,IAA7CH,CAAkD,Y,SCAnEzC,EAAOC,QAAUwC,EAAiCC,OAAOC,KAAKC,IAA7CH,CAAkD,c,SCAnEzC,EAAOC,QAAUwC,EAAiCC,OAAOC,KAAKC,IAA7CH,CAAkD,iB,SCAnEzC,EAAOC,QAAUwC,EAAiCC,OAAOC,KAAKC,IAA7CH,CAAkD,a,SCAnEzC,EAAOC,QAAUwC,EAAiCC,OAAOC,KAAKC,IAA7CH,CAAkD,O,SCAnEzC,EAAOC,QAAUwC,EAAiCC,OAAOC,KAAKC,IAA7CH,CAAkD,S,SCAnEzC,EAAOC,QAAUwC,EAAiCC,OAAOC,KAAKC,IAA7CH,CAAkD,a,SCAnEzC,EAAOC,QAAUwC,EAAiCC,OAAOC,KAAKC,IAA7CH,CAAkD,W,SCAnEzC,EAAOC,QAAUwC,EAAiCC,OAAOC,KAAKC,IAA7CH,CAAkD,mB,SCAnEzC,EAAOC,QAAUwC,EAAiCC,OAAOC,KAAKC,IAA7CH,CAAkD,W,SCAnEzC,EAAOC,QAAUwC,EAAiCC,OAAOC,KAAKC,IAA7CH,CAAkD,Q,SCAnEzC,EAAOC,QAAUwC,EAAiCC,OAAOC,KAAKC,IAA7CH,CAAkD,Q,SCAnEzC,EAAOC,QAAUwC,EAAiCC,OAAOC,KAAKC,IAA7CH,CAAkD,Q,SCAnEzC,EAAOC,QAAUwC,EAAiCC,OAAOC,KAAKC,IAA7CH,CAAkD,S,SCAnEzC,EAAOC,QAAUwC,EAAiCC,OAAOC,KAAKC,IAA7CH,CAAkD,S,kECKnE,MAAMI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","sources":["webpack://action-uptodater/./src/pullBody.hbs","webpack://action-uptodater/./src/rules/ lazy ^\\.\\/.*\\/index\\.js$ strict namespace object","webpack://action-uptodater/external node-commonjs \"assert\"","webpack://action-uptodater/external node-commonjs \"buffer\"","webpack://action-uptodater/external node-commonjs \"child_process\"","webpack://action-uptodater/external node-commonjs \"constants\"","webpack://action-uptodater/external node-commonjs \"crypto\"","webpack://action-uptodater/external node-commonjs \"events\"","webpack://action-uptodater/external node-commonjs \"fs\"","webpack://action-uptodater/external node-commonjs \"http\"","webpack://action-uptodater/external node-commonjs \"https\"","webpack://action-uptodater/external node-commonjs \"net\"","webpack://action-uptodater/external node-commonjs \"node:crypto\"","webpack://action-uptodater/external node-commonjs \"node:os\"","webpack://action-uptodater/external node-commonjs \"node:path\"","webpack://action-uptodater/external node-commonjs \"node:process\"","webpack://action-uptodater/external node-commonjs \"node:tty\"","webpack://action-uptodater/external node-commonjs \"os\"","webpack://action-uptodater/external node-commonjs \"path\"","webpack://action-uptodater/external node-commonjs \"punycode\"","webpack://action-uptodater/external node-commonjs \"stream\"","webpack://action-uptodater/external node-commonjs \"string_decoder\"","webpack://action-uptodater/external node-commonjs \"timers\"","webpack://action-uptodater/external node-commonjs \"tls\"","webpack://action-uptodater/external node-commonjs \"tty\"","webpack://action-uptodater/external node-commonjs \"url\"","webpack://action-uptodater/external node-commonjs \"util\"","webpack://action-uptodater/external node-commonjs \"zlib\"","webpack://action-uptodater/./src/Fix.js","webpack://action-uptodater/./src/index.js","webpack://action-uptodater/./src/lib/chalk.js","webpack://action-uptodater/./src/lib/esm/commit-from-action.js","webpack://action-uptodater/./src/lib/esm/get-boolean-action-input.js","webpack://action-uptodater/./src/lib/esm/has-content.js","webpack://action-uptodater/./src/lib/esm/zahl.js","webpack://action-uptodater/./src/lib/getPkg.js"],"sourcesContent":["var Handlebars = require(\"../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"Auto approving pull requests is activated. Branch `\"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,\"branch\") || (depth0 != null ? lookupProperty(depth0,\"branch\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"branch\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":51},\"end\":{\"line\":5,\"column\":61}}}) : helper))) != null ? stack1 : \"\")\n    + \"` will be automatically deleted afterwards.\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"Hewwo! I am [\"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,\"actionRepo\") || (depth0 != null ? lookupProperty(depth0,\"actionRepo\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"actionRepo\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":13},\"end\":{\"line\":1,\"column\":27}}}) : helper))) != null ? stack1 : \"\")\n    + \"](\"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,\"actionPage\") || (depth0 != null ? lookupProperty(depth0,\"actionPage\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"actionPage\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":29},\"end\":{\"line\":1,\"column\":43}}}) : helper))) != null ? stack1 : \"\")\n    + \") and got triggered by commit [`\"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,\"sha7\") || (depth0 != null ? lookupProperty(depth0,\"sha7\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"sha7\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":75},\"end\":{\"line\":1,\"column\":83}}}) : helper))) != null ? stack1 : \"\")\n    + \"`](https://github.com/\"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,\"owner\") || (depth0 != null ? lookupProperty(depth0,\"owner\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"owner\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":105},\"end\":{\"line\":1,\"column\":114}}}) : helper))) != null ? stack1 : \"\")\n    + \"/\"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,\"repo\") || (depth0 != null ? lookupProperty(depth0,\"repo\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"repo\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":115},\"end\":{\"line\":1,\"column\":123}}}) : helper))) != null ? stack1 : \"\")\n    + \"/commit/\"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,\"sha\") || (depth0 != null ? lookupProperty(depth0,\"sha\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"sha\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":131},\"end\":{\"line\":1,\"column\":138}}}) : helper))) != null ? stack1 : \"\")\n    + \"/checks).\\n\\nHere are some autofixes I am intending to apply.\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"autoApprove\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":0},\"end\":{\"line\":6,\"column\":7}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var map = {\n\t\"./babelPresetJaid/index.js\": [\n\t\t3990,\n\t\t736,\n\t\t990\n\t],\n\t\"./eslint/index.js\": [\n\t\t1287,\n\t\t736,\n\t\t287\n\t],\n\t\"./eslintNode/index.js\": [\n\t\t1214,\n\t\t736,\n\t\t214\n\t],\n\t\"./eslintReact/index.js\": [\n\t\t6789,\n\t\t736,\n\t\t789\n\t],\n\t\"./githubAction/index.js\": [\n\t\t7009,\n\t\t736,\n\t\t9\n\t],\n\t\"./global/index.js\": [\n\t\t1472,\n\t\t736,\n\t\t472\n\t],\n\t\"./jaidCore/index.js\": [\n\t\t2544,\n\t\t736,\n\t\t544\n\t],\n\t\"./jaidCoreDashboard/index.js\": [\n\t\t8497,\n\t\t736,\n\t\t497\n\t],\n\t\"./jest/index.js\": [\n\t\t223,\n\t\t736,\n\t\t223\n\t],\n\t\"./lib/index.js\": [\n\t\t8862,\n\t\t736,\n\t\t862\n\t],\n\t\"./no-jest/index.js\": [\n\t\t6637,\n\t\t736,\n\t\t637\n\t],\n\t\"./node/index.js\": [\n\t\t5508,\n\t\t736,\n\t\t508\n\t],\n\t\"./publicNodePackage/index.js\": [\n\t\t1646,\n\t\t736,\n\t\t646\n\t],\n\t\"./webpackConfigJaid/index.js\": [\n\t\t4789,\n\t\t736,\n\t\t420\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 9606;\nmodule.exports = webpackAsyncContext;","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"assert\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"buffer\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"child_process\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"constants\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"crypto\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"events\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"fs\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"http\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"https\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"net\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"node:crypto\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"node:os\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"node:path\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"node:process\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"node:tty\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"os\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"path\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"punycode\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"stream\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"string_decoder\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"timers\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"tls\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"tty\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"url\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"util\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"zlib\");","import fsp from \"@absolunet/fsp\"\nimport {getInput} from \"@actions/core\"\n\nimport chalk from \"./lib/chalk.js\"\n\nconst commitMessagePrefix = getInput(\"commitMessagePrefix\", {required: true})\n\nexport default class Fix {\n\n  /**\n   * @type {import(\"commit-from-action\").default}\n   */\n  static commitManager = null\n\n  /**\n   * @type {string}\n   */\n  fileName = null\n\n  /**\n   * @type {string|boolean}\n   */\n  newContent = null\n\n  /**\n   * @type {import(\"src/Tester\").default}\n   */\n  tester = null\n\n  /**\n   * @type {boolean}\n   */\n  hasBeenApplied = false\n\n  constructor(fileName, newContent) {\n    this.fileName = fileName\n    this.newContent = newContent\n  }\n\n  log(line) {\n    this.tester.logMessages.push(line)\n  }\n\n  async apply() {\n    this.log(this.getAnsiTitle())\n    if (this.newContent === false) {\n      await fsp.unlink(this.fileName)\n    } else {\n      await fsp.outputFile(this.fileName, this.newContent)\n    }\n    await Fix.commitManager?.commit(`${commitMessagePrefix} ${this.tester.title}`)\n  }\n\n  /**\n   * @return {string}\n   */\n  getAnsiTitle() {\n    if (this.newContent === false) {\n      return `Delete ${chalk.yellow(this.fileName)}`\n    } else {\n      return `Modify ${chalk.yellow(this.fileName)}`\n    }\n  }\n\n}","import {endGroup, setFailed, startGroup} from \"@actions/core\"\nimport {context} from \"@actions/github\"\nimport {isFunction} from \"lodash\"\nimport pFilter from \"p-filter\"\n\nimport Fix from \"./Fix.js\"\nimport chalk from \"./lib/chalk.js\"\nimport CommitManager from \"./lib/esm/commit-from-action.js\"\nimport getBooleanInput from \"./lib/esm/get-boolean-action-input.js\"\nimport hasContent from \"./lib/esm/has-content.js\"\nimport zahl from \"./lib/esm/zahl.js\"\nimport getPkg from \"./lib/getPkg.js\"\nimport pullBody from \"./pullBody.hbs\"\n\n/**\n * @typedef {Object} ProjectInfo\n * @prop {Object} pkg\n * @prop {boolean} shouldFix\n * @prop {boolean} autoApprove\n */\n\n/**\n * @type {import(\"src/Rule\").default[]}\n */\nlet rules = []\n\nconst ruleNames = [\n  \"babelPresetJaid\",\n  \"eslint\",\n  \"eslintNode\",\n  \"eslintReact\",\n  \"githubAction\",\n  \"global\",\n  \"jaidCore\",\n  \"jaidCoreDashboard\",\n  \"lib\",\n  \"jest\",\n  \"no-jest\",\n  \"node\",\n  \"publicNodePackage\",\n  \"webpackConfigJaid\",\n]\nfor (const ruleName of ruleNames) {\n  const {default: rule} = await import(`./rules/${ruleName}/index.js`)\n  rule.id = ruleName\n  rules.push(rule)\n}\n\nasync function main() {\n  console.log(`${process.env.REPLACE_PKG_NAME} v${process.env.REPLACE_PKG_VERSION}`)\n  console.log(`${zahl(Object.keys(rules).length, \"rule\")} loaded`)\n  const projectInfo = {\n    pkg: await getPkg(),\n    shouldFix: getBooleanInput(\"fix\"),\n    autoApprove: getBooleanInput(\"approve\"),\n  }\n  for (const rule of rules) {\n    rule.pkg = {...projectInfo.pkg}\n    if (isFunction(rule.init)) {\n      await rule.init()\n    }\n  }\n  if (projectInfo.shouldFix) {\n    if (projectInfo.autoApprove) {\n      console.log(\"Autofixing is enabled, pull requests will be automatically approved and merged\")\n    } else {\n      console.log(\"Autofixing is enabled, approving pull requests must be done manually\")\n    }\n    Fix.commitManager = new CommitManager({\n      autoApprove: projectInfo.autoApprove,\n      autoRemoveBranch: getBooleanInput(\"removeBranch\", {required: true}),\n      githubTokenInputName: \"token\",\n      branchPrefix: \"fix-\",\n      pullRequestTitle: commitManager => `Applied ${zahl(commitManager.commits, \"fix\")} from jaid/action-uptodater`,\n      pullRequestBody: commitManager => pullBody({\n        ...context.repo,\n        sha7: context.sha?.slice(0, 8),\n        autoApprove: projectInfo.autoApprove,\n        sha: context.sha,\n        actionRepo: \"Jaid/action-uptodater\",\n        actionPage: \"https://github.com/marketplace/actions/uptodater\",\n        branch: commitManager.branch,\n      }),\n      mergeMessage: commitManager => `Automatically merged boilerplate update from #${commitManager.pullNumber}`,\n      ignoreFiles: [\"package-lock.json\"],\n    })\n  }\n  /**\n   * @type {import(\"src/Rule\").default[]}\n   */\n  rules = await pFilter(Object.values(rules), async rule => {\n    const isRelevantToRepo = await rule.isRelevantToRepo(projectInfo)\n    return isRelevantToRepo\n  })\n  console.log(`Selected rules: ${rules.map(rule => rule.id).join(\", \")}`)\n  for (const rule of rules) {\n    for (const tester of rule.testers) {\n      await tester.run(projectInfo)\n    }\n  }\n  await Fix.commitManager?.push()\n  const totalFailedTests = rules.reduce((count, rule) => count + rule.failedTests, 0)\n  for (const rule of rules) {\n    const tests = rule.passedTests + rule.failedTests\n    const backgroundColor = rule.failedTests ? chalk.bgRed : chalk.bgGreen\n    console.log(`${backgroundColor(\"  \")}${rule.consoleIcon}${backgroundColor(` ${rule.getTitle()} (${rule.passedTests}/${tests})`.padEnd(60))}`)\n    for (const tester of rule.testers) {\n      let testerLine = `${tester.consoleIcon} ${tester.ansiTitle}`\n      if (hasContent(tester.appliedFixes)) {\n        testerLine += ` (${zahl(tester.appliedFixes, \"fix\")} applied)`\n      }\n      startGroup(testerLine)\n      for (const logMessage of tester.logMessages) {\n        console.log(logMessage)\n      }\n      endGroup()\n    }\n  }\n  if (totalFailedTests !== 0) {\n    const message = projectInfo.shouldFix ? `${zahl(totalFailedTests, \"test\")} did fail and could not automatically be fixed` : `${zahl(totalFailedTests, \"test\")} did fail and autofixing is disabled`\n    setFailed(message)\n  }\n}\n\nmain().catch(error => {\n  console.error(error)\n  setFailed(\"jaid/action-uptodater threw an Error\")\n})","import chalk from \"chalk\"\n\n// GitHub Actions CI supports color, chalk just does not know that\nchalk.enabled = true\nchalk.level = 2 // 256 colors\n\nexport default chalk","import commonJsModule from \"commit-from-action\"\n\nexport default commonJsModule.default","import commonJsModule from \"get-boolean-action-input\"\n\nexport default commonJsModule.default","import commonJsModule from \"has-content\"\n\nexport default commonJsModule.default\nexport const isEmpty = commonJsModule.isEmpty","import commonJsModule from \"zahl\"\n\nexport default commonJsModule.default","import path from \"node:path\"\n\nimport fsp from \"@absolunet/fsp\"\n\nexport default async function () {\n  const file = path.resolve(\"package.json\")\n  const exists = await fsp.pathExists(file)\n  if (!exists) {\n    return null\n  }\n  const pkg = await fsp.readJson5(file)\n  return pkg\n}"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","stack1","helper","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","hooks","helperMissing","nullContext","alias1","alias2","alias3","program","noop","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","all","slice","keys","__WEBPACK_EXTERNAL_createRequire","import","meta","url","commitMessagePrefix","getInput","required","Fix","fileName","newContent","tester","hasBeenApplied","constructor","this","log","line","logMessages","push","getAnsiTitle","fsp","a","commitManager","commit","title","chalk","rules","ruleNames","ruleName","default","rule","async","console","zahl","length","projectInfo","pkg","getPkg","shouldFix","getBooleanInput","autoApprove","isFunction","init","CommitManager","autoRemoveBranch","githubTokenInputName","branchPrefix","pullRequestTitle","commits","pullRequestBody","pullBody","context","sha7","c","sha","actionRepo","actionPage","branch","mergeMessage","pullNumber","ignoreFiles","pFilter","values","isRelevantToRepo","join","testers","run","count","failedTests","totalFailedTests","tests","passedTests","backgroundColor","consoleIcon","getTitle","padEnd","testerLine","ansiTitle","hasContent","appliedFixes","startGroup","logMessage","endGroup","message","setFailed","main","catch","error","commonJsModule","isEmpty","file","path"],"sourceRoot":""}